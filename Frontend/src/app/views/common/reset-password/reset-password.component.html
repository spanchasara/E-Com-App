<div class="container reset-container">
  <div class="card">
    <div class="card-body">
      <h3 class="card-title text-center">Reset Password</h3>
      <form
        *ngIf="resetPasswordLinkSent"
        (ngSubmit)="resetPassword(newPassword.value, confirmPassword.value)"
      >
        <div class="form-group">
          <label for="newPassword">New Password</label>
          <input
            type="password"
            class="form-control"
            name="password"
            placeholder="Enter your new password"
            required
            minlength="3"
            #newPassword="ngModel"
            ngModel
          />
          <span
            class="help-block"
            style="color: red"
            *ngIf="!newPassword.valid && newPassword.touched"
            >Please enter a password with minimum 3 characters long !</span
          >
        </div>
        <div class="form-group mt-3">
          <label for="confirmPassword">Confirm Password</label>
          <input
            type="password"
            class="form-control"
            name="confirmPassword"
            placeholder="Confirm your new password"
            required
            minlength="3"
            #confirmPassword="ngModel"
            ngModel
          />
          <div
            class="help-block"
            style="color: red"
            *ngIf="!confirmPassword.valid && confirmPassword.touched"
          >
            Please enter a password with minimum 3 characters long !
          </div>
          <div
            class="help-block"
            style="color: red"
            *ngIf="
              confirmPassword.touched &&
              confirmPassword.value !== newPassword.value
            "
          >
            Passwords do not match!
          </div>
        </div>
        <button
          type="submit"
          class="btn btn-class mt-3"
          [disabled]="
            !newPassword.valid ||
            !confirmPassword.valid ||
            newPassword.value !== confirmPassword.value
          "
        >
          Reset Password
        </button>
      </form>
      <form
        *ngIf="!resetPasswordLinkSent"
        (ngSubmit)="sendResetPasswordLink(email.value)"
      >
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input
            type="email"
            class="form-control"
            placeholder="Enter your registered email"
            name="email"
            email
            #email="ngModel"
            ngModel
            required
          />
          <div class="form-text">
            We'll send you a password reset link to this email address.
          </div>
        </div>
        <button
          type="submit"
          class="btn btn-class"
          [disabled]="!email.valid && email.touched"
        >
          Send Reset Link
        </button>
      </form>
    </div>
  </div>
</div>
