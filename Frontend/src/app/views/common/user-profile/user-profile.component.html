<ng-template #modalContent let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Register As a Seller</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <div class="row mt-2">
      <div class="col-md-12">
        <label class="labels">Company Name</label>
        <input
          type="text"
          class="form-control"
          placeholder="Company Name"
          name="companyName"
          #companyName="ngModel"
          [(ngModel)]="textInput"
          required
        />
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button
      class="btn btn-class mt-3 mx-1"
      (click)="saveSeller()"
      type="submit"
      [disabled]="textInput === ''"
    >
      Save
    </button>
    <button
      type="button"
      class="btn btn-class mt-3 mx-1"
      (click)="closeModal()"
    >
      Cancel
    </button>
  </div>
</ng-template>

<div class="container rounded bg-white mt-5 mb-5">
  <div class="row">
    <div class="col-md-3 border-right">
      <div class="d-flex flex-column align-items-center text-center p-3 py-5">
        <img
          class="rounded-circle mt-5"
          width="150px"
          src="https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-per son-silhouette-glasses-profile.jpg"
        /><span class="text-black-100">{{ userObject?.role }} </span
        ><span> </span>
        <button
          *ngIf="sellerCheck"
          class="mb-2 me-2 mt-2 mx-3 btn btn-class"
          (click)="openModal(modalContent)"
        >
          Register as Seller
        </button>
        <button
          *ngIf="toggleAccountRoleCheck"
          class="mb-2 me-2 mt-2 mx-3 btn btn-class"
          (click)="toggleAccountRole()"
        >
          Change Role to {{ showCompany ? "Customer" : "Seller" }}
        </button>
      </div>
    </div>
    <div class="col-md-5 border-right">
      <div class="p-3 py-5">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4 class="text-right">Profile Settings</h4>
        </div>
        <form #updateProfileForm="ngForm" (ngSubmit)="onSubmit()">
          <div class="row mt-2">
            <div class="col-md-6">
              <label class="labels">First Name</label
              ><input
                type="text"
                class="form-control"
                placeholder="first name"
                name="firstName"
                ngModel
                required
                #firstName="ngModel"
                [disabled]="!editMode"
              /><span
                class="help-block"
                style="color: red"
                *ngIf="!firstName.valid && firstName.touched && editMode"
                >Please enter a valid first name!</span
              >
            </div>
            <div class="col-md-6">
              <label class="labels">Last Name</label
              ><input
                type="text"
                class="form-control"
                ngModel
                name="lastName"
                placeholder="last name"
                [disabled]="!editMode"
              />
            </div>
          </div>
          <div class="col-md-12">
            <label class="labels">Username</label
            ><input
              type="text"
              class="form-control"
              placeholder="username"
              name="username"
              #username="ngModel"
              ngModel
              required
              [disabled]="!editMode"
            /><span
              class="help-block"
              style="color: red"
              *ngIf="!username.valid && username.touched && editMode"
              >Please enter a valid username!</span
            >
          </div>
          <div class="col-md-12" *ngIf="showCompany">
            <label class="labels">Company name</label
            ><input
              type="text"
              class="form-control"
              placeholder="Company name"
              name="companyName"
              #companyName="ngModel"
              ngModel
              required
              [disabled]="!editMode"
            /><span
              class="help-block"
              style="color: red"
              *ngIf="!companyName.valid && companyName.touched && editMode"
              >Please enter a valid company name!</span
            >
          </div>
          <div class="row mt-3">
            <div class="col-md-12">
              <label class="labels">Email ID</label
              ><input
                type="email"
                class="form-control"
                name="email"
                placeholder="enter email id"
                ngModel
                email
                required
                #email="ngModel"
                [disabled]="!editMode"
              /><span
                class="help-block"
                style="color: red"
                *ngIf="!email.valid && email.touched && editMode"
                >Please enter a valid email!</span
              >
            </div>
          </div>
          <div class="mt-3 text-center">
            <button
              class="btn btn-class mt-3"
              *ngIf="!editMode"
              type="button"
              (click)="toggleEditMode()"
            >
              Edit
            </button>
            <button
              class="btn btn-class mt-3 mx-1"
              *ngIf="editMode"
              type="submit"
            >
              Save
            </button>
            <button
              class="btn btn-class mt-3 mx-1"
              *ngIf="editMode"
              type="button"
              (click)="toggleEditMode(true)"
            >
              Cancel
            </button>
            <button
              *ngIf="!changePasswordMode"
              class="btn btn-class mt-3 mx-1"
              type="button"
              (click)="togglePasswordMode()"
            >
              Change Password
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="col-md-4 border-right">
      <div class="p-3 py-5">
        <app-change-password
          (unloadComponent)="unloadForm()"
          *ngIf="changePasswordMode"
        >
          <ng-container #changePasswordContainer></ng-container>
        </app-change-password>
      </div>
    </div>
  </div>
</div>
